<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Plan 9 ANTS</title>
<style type="text/css" media="screen">
body { background: #e7e7e7; font-family: Verdana, sans-serif; font-size: 12pt; }
#page { background: #ffffff; margin: 50px; border: 2px solid #c0c0c0; padding: 10px; }
#header { background: #444444; border: 2px solid #7590ae; text-align: center; padding: 1px; color: #ffffff; }
#header h1 { color: #ffffff; }
#body { padding: 50px; }
span.tt { font-family: monospace; }
span.bold { font-weight: bold; }
a:hover { text-decoration: none; color: #C00; background: #FC0; }
</style>
</head>
<body>
<div id="page">
 <div id="header">
<h1> Advanced Namespace Tools for Plan 9 </h1>
<p>
<h2> v2.1 for Bell Labs and 9front </h2>
 </div>
 <div id="body">
ANTS is a set of tools to structure and manage Plan 9 namespaces to make systems and grids more flexible, reliable, and easy to administer. It supports both the Bell Labs and 9front distributions of Plan 9. ANTS is well suited to cloud based hosting and scripts for use with vultr.com are provided. 
<h4>Components</h4>
ANTS is a modular toolkit. The components can be used separately:
<ul>
<li>New boot script which creates a separate administrative namespace independent of the root fs
<li>Modified /proc which allows processes to modify each other's namespace via /proc/pid/ns
<li>Hubfs i/o muxer for persistent shared shells and general purpose network piping
<li>Namespace modification scripts including rerootwin, a network and rio aware chroot utility
<li>Progressive venti data replication and fossil cloning scripts to keep multiple roots available
<li>Grio modified rio with hubfs integration, colors, and customizable command menu
</ul>
<h4>ANTS 2.1 release tarball</h4>
<p><a href="http://files.9gridchan.org/ants2.1.tgz">ants2.1.tgz</a> - Current ANTS 2.1 release tarball with source code and compiled kernels<p>
<h4>Documentation, Walkthroughs, Tutorials</h4>
<p><a href="http://ants.9gridchan.org/ants.html">9gridchan.org/ants.html</a> - Code, manpages, and the description paper<p>
<p><a href="http://doc.9gridchan.org/them">doc.9gridchan.org/them</a> - Walkthroughs for setting up a full ANTS grid with examples and support scripts for <a href="http://www.vultr.com/?ref=6843332">vultr.com</a> [referrer link] hosting<p>
<p><a href="http://doc.9gridchan.org/antfarm/tutorial">doc.9gridchan.org/antfarm/tutorial</a> - Tutorials for using ANTS features done with the QEMU vm images from 2013<p>
<h4>Code repositories</h4>
<p><a href="https://bitbucket.org/mycroftiv/plan9ants">bitbucket.org/mycroftiv/plan9ants</a> - The current release source code repo<p>
<p><a href="https://bitbucket.org/mycroftiv/antsexperiments">bitbucket.org/mycroftiv/antsexperiments</a> - Ongoing development code<p>
<h4>QEMU images from 2013</h4>
<p><a href="http://files.9gridchan.org/9worker.gz">9worker.gz</a> - A tiny image with only the ANTS kernel and tools for the administrative namespace<p>
<p><a href="http://files.9gridchan.org/9queen.gz">9queen.gz</a> - A fully installed system image
<h2>Brief Guide to Installing</h2>
<h3>Installing pre-built kernel and tools from ants2.1.tgz</h3>
<h4>Bell Labs</h4>
The name of the Bell Labs kernel is 9pcram. A precompiled x86 9pcram.gz is located in the base ants2.1 directory. Copy that kernel to your 9fat partition. You probably also want to copy the tools.tgz to 9fat as well. Modify your plan9.ini to use the new kernel. Setting up a boot menu is recommended. An example configuration is located at doc/PLAN9.INI. Once correct plan9.ini variables are set, your system can be rebooted with the new kernel. Assuming proper configuration, there should be no disruption of your userland and the new ANTS namespace will be accessible via cpu or hubfs. To install the userspace components to the main system, cd to the base ants2.1 directory and 'build labshost'.
<h4>9front</h4>
The name of the 9front kernel is 9ants. A precompiled x86 9ants is located in the base ants2.1 directory. Copy that kernel to your 9fat partition. You probably also want to copy the tools.tgz to 9fat as well. Modify your plan9.ini to use the new kernel. An example for 9front is located at frontmods/plan9.ini. You may wish to leave bootfile= blank in plan9.ini and choose to use the 9ants or older 9pcf kernel by typing in 'bootfile=9ants' and 'boot' manually. If you are booting to gui, it is necessary to add the following line to the end of your /rc/bin/termrc:
<p>home=/usr/$user; cd; . $home/lib/profile<p>
Once correct plan9.ini variables are set, your system can be rebooted with the new kernel. Assuming proper configuration, there should be no disruption of your userland and the new ANTS namespace will be accessible via cpu or hubfs. To install the userspace components to the main system, cd to the base ants2.1 directory and 'build fronthost'.
<h3>Installing from source (.tgz or hg clone)</h3>
<h4>Bell Labs</h4>
Inside the base ants directory, 'build everything'. This recreates the 9pcram.gz kernel and tools.tgz and you can then follow the instructions above. Note that this will overwrite a pre-existing 9pcram.gz and tools.tgz if you downloaded the .tgz with them prebuilt or have compiled previously.
<h4>9front</h4>
Inside the base ants directory, 'build 9front'. This recreates the 9ants kernel and builds a new tools.tgz and you can then follow the instructions above. Note this will overwrite a pre-existing 9ants and tools.tgz if you downloaded the .tgz with them prebuilt or have compiled previously.
<h3>Full installs to new Qemu instances</h3>
If you want to do a full automatic ANTS install into a Qemu vm that has just been set up from the .iso, special build options are provided.
<h4>Bell Labs</h4>
In the base ANTS directory, do 'build everything' 'build isoinstall' 'cd cfg; stockmod'
<h4>9front</h4>
In the base ANTS directory, do 'build 9front' 'build 9frontinstall'
<h4>vultr hosting</h4>
In the base ANTS directory, do 'build vultr'. There is also an option to 'build vultrfossil' which requires hard drive partitioning during install described at <a href="http://doc.9gridchan.org/them/vultr">doc.9gridchan.org/them/vultr</a>
<p>------------------------------------------------------<p>
<h4>Download hashes</h4>
<p>c09ad35654d775bb13773811d0047107a335c6b8	ants2.1.tgz sha1sum
<p>446979a360ad398bfeddcb8de1f4d458c1bfa7d0  9worker.gz sha1sum
<p>864b0379423d8bc7381ceb2375294e292bca3f50  9queen.gz sha1sum
<p>------------------------------------------------------<p>
The old 9gridchan.org website and its downloads are still available at
<p><a href="http://old.9gridchan.org/9grid_node_img">the old site</a><p>
Plan 9 from Bell Labs and 9front code and modifications are distributed under the preferred licenses for those projects.
<p>Copyright 2015 Mycroftiv<p>
Often found in #plan9chan and other plan 9 related irc channels on freenode
<p>
Occasionally reachable by email at mycroftiv at sphericalharmony.com
<p>
9gridchan.org - seven years and counting! Thanks to everyone who has participated and helped out with Plan 9 and Inferno and gridding.
</body>
</html>
